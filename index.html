<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>iOS Safari 対応ローンチボタン付きデモ</title>
  <style>
    html,body { margin:0; padding:0; }
    #unlock {
      position: fixed; top:10px; left:10px;
      padding:8px 12px; font-size:16px;
      z-index:100;
    }
    section { height:100vh; }
  </style>
</head>
<body>
  <button id="unlock">▶︎ Tap to Enable Sound</button>

  <section id="one"   style="background:#aac;">セクション１</section>
  <section id="two"   style="background:#aca;">セクション２</section>
  <section id="three" style="background:#aac;">セクション３</section>

  <audio id="audio1" src="sound1.mp3" preload="auto"></audio>
  <audio id="audio2" src="sound2.mp3" preload="auto"></audio>
  <audio id="audio3" src="sound3.mp3" preload="auto"></audio>

  <script>
    const audios = {
      one:   document.getElementById('audio1'),
      two:   document.getElementById('audio2'),
      three: document.getElementById('audio3'),
    };

    // まずはアンロックボタン
    document.getElementById('unlock')
      .addEventListener('click', () => {
        // ユーザー操作の中で各 audio.play()
        Object.values(audios).forEach(a => {
          a.play().catch(()=>{});  // promise rejection は無視
        });
        // ボタンはもう要らないので消す
        document.getElementById('unlock').remove();
      }, { once: true });

    // 以降はスクロールで鳴らす例
    window.addEventListener('scroll', () => {
      const y = window.scrollY;
      const h = window.innerHeight;
      if (y >= 0   && y <   h)    audios.one.play();
      if (y >= h   && y < 2*h)    audios.two.play();
      if (y >= 2*h && y < 3*h)    audios.three.play();
    });
  </script>
</body>
</html>
